/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */
'use strict';var XWiki=function(c){c.SearchSuggest=Class.create({initialize:function(a,b){this.sources=b;if(this.searchInput=$(a))document.observe("xwiki:suggest:clearSuggestions",this.onClearSuggestions.bindAsEventListener(this)),document.observe("xwiki:suggest:containerCreated",this.onSuggestContainerCreated.bindAsEventListener(this)),document.observe("xwiki:suggest:containerPrepared",this.onSuggestContainerPrepared.bindAsEventListener(this)),document.observe("xwiki:suggest:updated",this.onSuggestUpdated.bindAsEventListener(this)),
document.observe("xwiki:suggest:selected",this.onSuggestionSelected.bindAsEventListener(this)),document.observe("xwiki:suggest:collapsed",this.onSuggestCollapsed.bindAsEventListener(this)),this.createSuggest()},onClearSuggestions:function(a){a.memo.suggest==this.suggest&&this.searchInput.setStyle({borderBottomStyle:this.searchInputBorderBottomSavedStyle})},onSuggestContainerCreated:function(a){a.memo.suggest==this.suggest&&(this.searchInputBorderBottomSavedStyle=this.searchInput.getStyle("borderBottomStyle"),
this.searchInput.setStyle({borderBottomStyle:"none"}))},onSuggestContainerPrepared:function(a){this.noResultsMessage.addClassName("hidden")},onSuggestUpdated:function(a){1===a.memo.container.select(".suggestItem").length&&this.noResultsMessage.removeClassName("hidden").setStyle({"float":"left"})},onSuggestionSelected:function(a){a.memo.suggest==this.suggest&&(a.stop(),a.memo.originalEvent&&Event.stop(a.memo.originalEvent),a.memo.url?window.location=a.memo.url:this.searchInput.up("form").submit())},
onSuggestCollapsed:function(a){this.suggest.clearSuggestions()},createSuggest:function(){var a=(new Element("div")).insert(new Element("span",{"class":"suggestId"})).insert(new Element("span",{"class":"suggestValue"})).insert(new Element("span",{"class":"suggestInfo"}));this.noResultsMessage=(new Element("div",{"class":"hidden"})).update("No results!".escapeHTML());var b=(new Element("div")).update("Go to search page\u2026".escapeHTML());
b=(new Element("div")).insert(this.noResultsMessage).insert(b).insert(new Element("div",{"class":"clearfloats"}));a=new c.widgets.XList([new c.widgets.XListItem(b,{containerClasses:"suggestItem",classes:"showAllResults",eventCallbackScope:this,noHighlight:!0,value:a,containerTagName:"button"})],{classes:"suggestList",eventListeners:{mouseover:function(d){this.suggest.setHighlight(d.currentTarget)}}});b=a.getElement();a.items[0].getElement().addEventListener("focusin",d=>this.suggest.setHighlight($(d.currentTarget)));
this.suggest=new c.widgets.Suggest(this.searchInput,{parentContainer:$("globalsearch"),className:"searchSuggest horizontalLayout",fadeOnClear:!1,align:"auto",minchars:3,sources:this.sources,insertBeforeSuggestions:(new Element("div",{"class":"results"})).update(b),displayValue:!0,displayValueText:"in",resultInfoHTML:!0,timeout:0,width:500,unifiedLoader:!0,loaderNode:b.down("li"),shownoresults:!1,propagateEventKeyCodes:[Event.KEY_RETURN]})}});
var e=function(){var a=[{"name":"Page titles","varname":"input","script":"\/xwiki\/bin\/get\/XWiki\/SuggestSolrService?query=fq%3Dtype%3ADOCUMENT%0Aqf%3Dtitle%5E2%20name&nb=3&outputSyntax=plain","icon":"\/xwiki\/resources\/icons\/silk\/page_white_text.png?cache-version=1704186488000","highlight":true},{"name":"Page content","varname":"input","script":"\/xwiki\/bin\/get\/XWiki\/SuggestSolrService?query=fq%3Dtype%3ADOCUMENT%0Aqf%3Ddoccontent%5E2%20doccontentraw&nb=3&outputSyntax=plain","icon":"\/xwiki\/resources\/icons\/silk\/page_white_text.png?cache-version=1704186488000","highlight":false},{"name":"Attachment names","varname":"input","script":"\/xwiki\/bin\/get\/XWiki\/SuggestSolrService?query=fq%3Dtype%3AATTACHMENT%0Aqf%3Dfilename&nb=3&outputSyntax=plain","icon":"\/xwiki\/resources\/icons\/silk\/attach.png?cache-version=1704186486000","highlight":true},{"name":"Attachment content","varname":"input","script":"\/xwiki\/bin\/get\/XWiki\/SuggestSolrService?query=fq%3Dtype%3AATTACHMENT%0Aqf%3Dattcontent&nb=3&outputSyntax=plain","icon":"\/xwiki\/resources\/icons\/silk\/attach.png?cache-version=1704186486000","highlight":false},{"name":"Users","varname":"input","script":"\/xwiki\/bin\/get\/XWiki\/SuggestSolrService?query=fq%3Dtype%3ADOCUMENT%0Afq%3Dclass%3AXWiki.XWikiUsers%0Aqf%3Dproperty.XWiki.XWikiUsers.last_name%5E10%20property.XWiki.XWikiUsers.first_name%5E5%20name%5E2.5%20object.XWiki.XWikiUsers&nb=3&outputSyntax=plain","icon":"\/xwiki\/resources\/icons\/silk\/user.png?cache-version=1704186488000","highlight":false},{"name":"Wikis","varname":"input","script":"\/xwiki\/bin\/get\/WikiManager\/WikisSuggestSolrService?query=fq%3Dtype%3ADOCUMENT%0Afq%3Dhidden%3Atrue%0Afq%3Dclass%3AXWiki.XWikiServerClass%0Aqf%3Dproperty.XWiki.XWikiServerClass.wikiprettyname&nb=3&outputSyntax=plain","icon":"\/xwiki\/resources\/icons\/silk\/chart_organisation.png?cache-version=1704186486000","highlight":true}];new c.SearchSuggest($("headerglobalsearchinput"),a);return!0};c.isInitialized&&e()||document.observe("xwiki:dom:loading",e);return c}(XWiki);
//# sourceMappingURL=searchSuggest.min.js.map
